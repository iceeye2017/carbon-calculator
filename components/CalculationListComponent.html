<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>carbon-calculator documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">carbon-calculator documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li
  >
  CalculationListComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/calculation-list/calculation-list.component.ts</code>
</p>


    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>The CalculationListComponent is a component that displays a list of calculations and allows
the user to perform various actions on them, such as viewing diagrams, exporting, importing,
and deleting calculations</p>

    </p>


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-calculation-list</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./calculation-list.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./calculation-list.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_calculation" >_calculation</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#currentUrl" >currentUrl</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#delete" >delete</a>
                            </li>
                            <li>
                                <a href="#loadCalculation" >loadCalculation</a>
                            </li>
                            <li>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                <a href="#saveCalculation" >saveCalculation</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#modules" >modules</a>
                                </li>
                                <li>
                                    <a href="#factorManager" >factorManager</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(route: <a href="https://angular.io/api/router/ActivatedRoute" target="_blank">ActivatedRoute</a>, navigation: <a href="../injectables/NavigationService.html" target="_self">NavigationService</a>, calculationService: <a href="../injectables/CalculationService.html" target="_self">CalculationService</a>, menuService: <a href="../injectables/MenuService.html" target="_self">MenuService</a>, translationManagerService: <a href="../injectables/TranslationManagerService.html" target="_self">TranslationManagerService</a>, translateService: TranslateService, _dialog: MatDialog, _snackbar: MatSnackBar)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/calculation-list/calculation-list.component.ts:36</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Inside the constructor, several services are being injected
current route and navigate to new routes.
manage calculations.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>route</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/router/ActivatedRoute" target="_blank" >ActivatedRoute</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>ActivatedRoute is an Angular service that is used to get information about the
current route and navigate to new routes.</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>navigation</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/NavigationService.html" target="_self" >NavigationService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>NavigationService is a custom service that is used to change the text in the header.</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>calculationService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/CalculationService.html" target="_self" >CalculationService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>CalculationService is a custom service that is used to
manage calculations.</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>menuService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/MenuService.html" target="_self" >MenuService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>MenuService is a custom service that is used to change the options in the menu.</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>translationManagerService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/TranslationManagerService.html" target="_self" >TranslationManagerService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>TranslationManagerService is a custom service that is used to manage the translations.</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>translateService</td>
                                                  
                                                        <td>
                                                                    <code>TranslateService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>TranslateService is a service provided by the ngx-translate library that is used to translate strings.</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>_dialog</td>
                                                  
                                                        <td>
                                                                    <code>MatDialog</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>MatDialog is a service provided by the Angular Material library that is used to open dialogs.</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>_snackbar</td>
                                                  
                                                        <td>
                                                                    <code>MatSnackBar</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>MatSnackbar is a service provided by the Angular Material library that is used to open snackbars.</p>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="delete"></a>
                    <span class="name">
                        <span ><b>delete</b></span>
                        <a href="#delete"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>delete()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="168"
                            class="link-to-prism">src/app/calculation-list/calculation-list.component.ts:168</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>deletes the current calculation from the list of calculations and from the local storage,
and redirects the user to the emission route.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadCalculation"></a>
                    <span class="name">
                        <span ><b>loadCalculation</b></span>
                        <a href="#loadCalculation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadCalculation()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="131"
                            class="link-to-prism">src/app/calculation-list/calculation-list.component.ts:131</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>It opens a dialog box (ImportFileDialogComponent) with a form to select the file to import.
When the dialog box is closed, the method subscribes to the afterClosed() event and checks
if the result is null or an empty string. If it is, the method ends. If it is not, it assigns
the result to the variable importData of type ImportData. Then, it iterates through the
modules in the importData and checks if the module is already registered in the current
calculation. If it is, it skips this module. If not, it pushes the imported module to the
current calculation&#39;s modules. Then, it saves the calculation and shows a snackbar message
to the user to indicate that the import was successful</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="81"
                            class="link-to-prism">src/app/calculation-list/calculation-list.component.ts:81</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>the component subscribes to the route parameters and assigns the calculation to the
_calculation property, it also update the navigation bar with the name of the calculation.
It also assigns the currentUrl property to the appropriate URL. It also sets the menu
options for the component by calling the changeMenu method of the menuService,
passing an array of menu options, with the menuPointName translated to the current
language, and the link and onClick properties set as appropriate.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="saveCalculation"></a>
                    <span class="name">
                        <span ><b>saveCalculation</b></span>
                        <a href="#saveCalculation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>saveCalculation()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="107"
                            class="link-to-prism">src/app/calculation-list/calculation-list.component.ts:107</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>exports the current calculation to a JSON file, which can be saved to
the user&#39;s local file system.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_calculation"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_calculation</b></span>
                        <a href="#_calculation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/Calculation.html" target="_self" >Calculation</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="31" class="link-to-prism">src/app/calculation-list/calculation-list.component.ts:31</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>The _calculation variable is a private member variable that is used to store the current
calculation object, which contains all the data for the calculation.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentUrl"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>currentUrl</b></span>
                        <a href="#currentUrl"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/calculation-list/calculation-list.component.ts:36</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>The currentUrl variable is a public member variable that is used to store the current URL of
the application, this is used to construct the links for the menu items in the component.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

    <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="modules"></a>
                        <span class="name"><b>modules</b><a href="#modules"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>modules()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="63" class="link-to-prism">src/app/calculation-list/calculation-list.component.ts:63</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>returns an array of the EmissionModule objects that are associated with the current calculation.</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="../interfaces/EmissionModule.html" target="_self" >EmissionModule[]</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="factorManager"></a>
                        <span class="name"><b>factorManager</b><a href="#factorManager"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>factorManager()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="70" class="link-to-prism">src/app/calculation-list/calculation-list.component.ts:70</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>returns the FactorManager associated with the current calculation.</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="../classes/FactorManager.html" target="_self" >FactorManager</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
</section>
</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit } from &#x27;@angular/core&#x27;;
import { ActivatedRoute } from &#x27;@angular/router&#x27;;
import { TranslateService } from &#x27;@ngx-translate/core&#x27;;
import { Calculation } from &#x27;../emissionmodule/calculation&#x27;;
import { EmissionModule } from &#x27;../emissionmodule/emission-module&#x27;;
import { MenuService } from &#x27;../shared/menu.service&#x27;;
import { NavigationService } from &#x27;../shared/navigation.service&#x27;;
import { CalculationService } from &#x27;../_services/calculation.service&#x27;;
import { TranslationManagerService } from &#x27;../_services/translation-manager.service&#x27;;
import { MatDialog } from &#x27;@angular/material/dialog&#x27;;
import { saveAs } from &#x27;file-saver&#x27;;
import { ImportData, ImportFileDialogComponent } from &#x27;./import-file-dialog/import-file-dialog.component&#x27;;
import { MatSnackBar } from &#x27;@angular/material/snack-bar&#x27;;
import { FactorManager } from &#x27;../emissionmodule/factor-manager&#x27;;

/**
 * The CalculationListComponent is a component that displays a list of calculations and allows
 * the user to perform various actions on them, such as viewing diagrams, exporting, importing,
 * and deleting calculations
 */
@Component({
  selector: &#x27;app-calculation-list&#x27;,
  templateUrl: &#x27;./calculation-list.component.html&#x27;,
  styleUrls: [&#x27;./calculation-list.component.scss&#x27;]
})
export class CalculationListComponent implements OnInit{
  /**
   * The _calculation variable is a private member variable that is used to store the current
   * calculation object, which contains all the data for the calculation.
   */
  private _calculation!: Calculation;
  /**
   * The currentUrl variable is a public member variable that is used to store the current URL of
   * the application, this is used to construct the links for the menu items in the component.
   */
  public currentUrl!:string;
  /**
   * Inside the constructor, several services are being injected
   * @param route ActivatedRoute is an Angular service that is used to get information about the
   * current route and navigate to new routes.
   * @param navigation  NavigationService is a custom service that is used to change the text in the header.
   * @param calculationService CalculationService is a custom service that is used to
   * manage calculations.
   * @param menuService MenuService is a custom service that is used to change the options in the menu.
   * @param translationManagerService TranslationManagerService is a custom service that is used to manage the translations.
   * @param translateService TranslateService is a service provided by the ngx-translate library that is used to translate strings.
   * @param _dialog MatDialog is a service provided by the Angular Material library that is used to open dialogs.
   * @param _snackbar MatSnackbar is a service provided by the Angular Material library that is used to open snackbars.
   */
  constructor(
    private route:ActivatedRoute,
    private navigation:NavigationService,
    private calculationService: CalculationService,
    private menuService:MenuService,
    private translationManagerService: TranslationManagerService,
    private translateService: TranslateService,
	  private _dialog: MatDialog,
	  private _snackbar: MatSnackBar
    ){}
  /**
   * returns an array of the EmissionModule objects that are associated with the current calculation.
   */
  get modules(): EmissionModule[] {
    this.calculationService.save()
    return this._calculation?.modules;
  }
  /**
   * returns the FactorManager associated with the current calculation.
   */
  get factorManager(): FactorManager {
	  return this._calculation.factorManager;
  }
  /**
   * the component subscribes to the route parameters and assigns the calculation to the
   * _calculation property, it also update the navigation bar with the name of the calculation.
   * It also assigns the currentUrl property to the appropriate URL. It also sets the menu
   * options for the component by calling the changeMenu method of the menuService,
   * passing an array of menu options, with the menuPointName translated to the current
   * language, and the link and onClick properties set as appropriate.
   */
  ngOnInit(): void {

    this.route.params.subscribe(params&#x3D;&gt;{
      let calculation &#x3D; this.calculationService.getById(params.id);
      if(calculation) this._calculation &#x3D; calculation;
      this.navigation.changeMessage(calculation &#x3D;&#x3D; null ? &quot;&quot; : calculation.name);
      this.currentUrl&#x3D;&quot;/emission/&quot; + params.id;
    });

    this.translateService.getTranslation(this.translationManagerService.lang).subscribe(translations &#x3D;&gt; {
      const translationManager &#x3D; this.translationManagerService;
      const translate &#x3D; function(name: string){
        return translationManager.getTranslation(translations, name);
      }
      this.menuService.changeMenu([
        {icon:&quot;bar_chart&quot;, menuPointName: translate(&quot;diagrams&quot;), link:this.currentUrl+&quot;/diagram&quot;},
        { icon: &quot;file_download&quot;, menuPointName: translate(&quot;export&quot;), link: undefined, onClick: () &#x3D;&gt; { this.saveCalculation(); } },
        { icon: &quot;file_upload&quot;, menuPointName: translate(&quot;import&quot;), link: undefined, onClick: () &#x3D;&gt; { this.loadCalculation(); } },
        {icon:&quot;delete&quot;, menuPointName: this.translationManagerService.getTranslation(translations, &quot;delete&quot;), link:&quot;/emission/&quot;, onClick: () &#x3D;&gt; this.delete() }
      ]);
	  });
  }
  /**
   * exports the current calculation to a JSON file, which can be saved to
   * the user&#x27;s local file system.
   */
  saveCalculation(){
    const saveData &#x3D; this._calculation.save();

    // We don&#x27;t want these properties
    delete saveData.id;
    delete saveData.name;

    let jsonString &#x3D; JSON.stringify(saveData, null, 2);

    const blob &#x3D; new Blob([jsonString]);
    const filename &#x3D; this._calculation.name;
    saveAs(blob, filename + &quot;.json&quot;);
  }

  /**
   * It opens a dialog box (ImportFileDialogComponent) with a form to select the file to import.
   * When the dialog box is closed, the method subscribes to the afterClosed() event and checks
   * if the result is null or an empty string. If it is, the method ends. If it is not, it assigns
   * the result to the variable importData of type ImportData. Then, it iterates through the
   * modules in the importData and checks if the module is already registered in the current
   * calculation. If it is, it skips this module. If not, it pushes the imported module to the
   * current calculation&#x27;s modules. Then, it saves the calculation and shows a snackbar message
   * to the user to indicate that the import was successful
   */
  loadCalculation(){
  	const dialogRef &#x3D; this._dialog.open(ImportFileDialogComponent, {
		minWidth: &quot;30%&quot;,
	  });

	  dialogRef.afterClosed().subscribe(result &#x3D;&gt; {
		  if(result &#x3D;&#x3D; null || result &#x3D;&#x3D; &quot;&quot;) return;
		  const importData: ImportData &#x3D; result as ImportData;

      importData.modules.forEach(module &#x3D;&gt; {
        // CHECK IF MODULE ALREADY REGISTERED
        if(this._calculation.getModule(module.id) !&#x3D; null) return;

        this._calculation.modules.push(module);
      });

      // SAVE CALCULATION
      this.calculationService.save();


      this.translateService.getTranslation(this.translationManagerService.lang).subscribe(translations &#x3D;&gt; {
        const translationManager &#x3D; this.translationManagerService;
        const translate &#x3D; function(name: string){
          return translationManager.getTranslation(translations, name);
        }

        this._snackbar.open(translate(&quot;import_success&quot;), translate(&quot;close&quot;), {
          duration: 2000,
          panelClass: [ &#x27;snackbar-custom&#x27; ]
        });
      });
	  });
  }
  /**
   * deletes the current calculation from the list of calculations and from the local storage,
   * and redirects the user to the emission route.
   */
  delete(){
    this.calculationService.removeCalculation(this._calculation);
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;content&quot; fxLayout&#x3D;&quot;column&quot; fxLayoutGap&#x3D;&quot;15px&quot; style&#x3D;&quot;padding: 5px 30px;&quot;&gt;
    &lt;app-calculation-card *ngFor&#x3D;&quot;let module of modules&quot; [module]&#x3D;&quot;module&quot; [factorManager]&#x3D;&quot;factorManager&quot;&gt;&lt;/app-calculation-card&gt;
&lt;/div&gt;
&lt;a 
    routerLink&#x3D;&quot;{{this.currentUrl}}/create&quot;
    id&#x3D;&quot;add_button&quot;
    mat-fab color&#x3D;&quot;primary&quot;
    aria-label&#x3D;&quot;Add new calculation button&quot;&gt;
    &lt;mat-icon&gt;add&lt;/mat-icon&gt;
&lt;/a&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./calculation-list.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">#add_button{
    position: fixed;
    bottom: 25px;
    right: 25px;
}</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="content" fxLayout="column" fxLayoutGap="15px" style="padding: 5px 30px;">    <app-calculation-card *ngFor="let module of modules" [module]="module" [factorManager]="factorManager"></app-calculation-card></div><a     routerLink="{{this.currentUrl}}/create"    id="add_button"    mat-fab color="primary"    aria-label="Add new calculation button">    <mat-icon>add</mat-icon></a></div>'
    var COMPONENTS = [{'name': 'BarDiagramBothComponent', 'selector': 'app-bar-diagram-both'},{'name': 'BarDiagramCompareComponent', 'selector': 'app-bar-diagram-compare'},{'name': 'BarDiagramComponent', 'selector': 'app-bar-diagram'},{'name': 'CalculationCardComponent', 'selector': 'app-calculation-card'},{'name': 'CalculationDiagramCompareComponent', 'selector': 'app-calculation-diagram-compare'},{'name': 'CalculationDiagramComponent', 'selector': 'app-calculation-diagram'},{'name': 'CalculationListComponent', 'selector': 'app-calculation-list'},{'name': 'CalculationSelectCompareComponent', 'selector': 'app-calculation-select-compare'},{'name': 'CreateCalculationComponent', 'selector': 'app-create-calculation'},{'name': 'CreateModuleComponent', 'selector': 'app-create-module'},{'name': 'CreateTypeComponent', 'selector': 'app-create-type'},{'name': 'DiagramCompareDialogComponent', 'selector': 'app-diagram-dialog'},{'name': 'DiagramDialogComponent', 'selector': 'app-diagram-dialog'},{'name': 'EmissionItemComponent', 'selector': 'app-emission-item'},{'name': 'EmissionListComponent', 'selector': 'app-emission-list'},{'name': 'FactorEmissionModuleComponent', 'selector': 'app-factor-emission-module'},{'name': 'FileUploadComponent', 'selector': 'app-file-upload'},{'name': 'FooterComponent', 'selector': 'app-footer'},{'name': 'ImportFileDialogComponent', 'selector': 'app-import-file-dialog'},{'name': 'NavigationComponent', 'selector': 'app-navigation'},{'name': 'PieDiagramComponent', 'selector': 'app-pie-diagram'},{'name': 'SettingsComponent', 'selector': 'app-settings'},{'name': 'SpecificCalculationListComponent', 'selector': 'app-specific-calculation-list'},{'name': 'TreeDiagramComponent', 'selector': 'app-tree-diagram'},{'name': 'TypeEmissionModuleComponent', 'selector': 'app-type-emission-module'},{'name': 'TypeInputComponent', 'selector': 'app-type-input'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'CalculationListComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'CalculationListComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
